#include "spe_module.h"
#include "spe_util.h"

static spe_module_t* main_mod;

/*
===================================================================================================
spe_modules_init
===================================================================================================
*/
bool
spe_modules_init(void) {
  return (main_mod && main_mod->init && main_mod->init());
}

/*
===================================================================================================
spe_modules_exit
===================================================================================================
*/
bool
spe_modules_exit(void) {
  return (main_mod && main_mod->exit && main_mod->exit());
}

/*
===================================================================================================
spe_modules_start
===================================================================================================
*/
bool
spe_modules_start(void) {
  return (main_mod && main_mod->start && main_mod->start());
}

/*
===================================================================================================
spe_module_end
===================================================================================================
*/
bool
spe_modules_end(void) {
  return (main_mod && main_mod->end && main_mod->end());
}

/*
===================================================================================================
spe_register_module
===================================================================================================
*/
void
spe_register_module(spe_module_t* mod) {
  ASSERT(mod);
  main_mod = mod;
}
